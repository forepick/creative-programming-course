<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, shrink-to-fit=no" />

    <link rel="stylesheet" type="text/css" href="/css/global.css" />
    <script src="/js/jquery.js"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
        }

        svg {
            display: block;
        }

        #anim_test path{
            --length: 110;
            stroke-dasharray: var(--length);
            stroke-dashoffset: var(--length);

            transition: stroke-dashoffset 0.6s;
        }
        #anim_test:hover path{
            stroke-dashoffset: 0;
        }

        #signature path {
            animation-timing-function: linear;
            animation-fill-mode: forwards;
        }
        #sig_wrapper:hover path {
            animation-name: line;
        }

        @keyframes line {
            100% {
                stroke-dashoffset: 0;
            }
        }
    </style>

</head>
<body>
    <svg width="200px" height="200px">
        <g x="40" stroke-width="3" stroke="red" >
            <rect x="50" y="50" width="100" height="100" fill="yellow" filter="blur(2px)"></rect>
            <polygon points="0,0 20,0 10,100 0,0" fill="transparent" ></polygon>
        </g>

        <text x="40" y="50" fill="blue" font-size="26px" stroke="yellow" stroke-width="3px" filter="drop-shadow(0 0 4px #00000044)">Hello SVG</text>
        <text x="40" y="50" fill="blue" font-size="26px">Hello SVG</text>
    </svg>

    <svg width="300" height="100" xmlns="http://www.w3.org/2000/svg">
        <g id="anim_test" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
            <path d="M 10 10 C 50 50, 70 30, 100 10" stroke="black" fill="transparent"/>
        </g>
    </svg>

    <svg id="sig_wrapper" width="800" height="600" xmlns="http://www.w3.org/2000/svg">
        <g id="signature" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
            <path d="m148,206c1,0 1.69344,0.4588 3,1c0.92387,0.38269 2.186,0.69255 4,2c1.14726,0.8269 2.186,0.69255 4,2c1.14726,0.8269 2,2 3,3c1,1 2.1731,1.85274 3,3c1.30745,1.814 2.14429,2.93414 3,5c1.21014,2.92157 2.49345,3.87856 3,7c0.32036,1.97418 1.48625,4.82375 2,7c0.91901,3.89299 1,7 1,11c0,3 0,8 0,12c0,3 0.30876,7.07181 -1,12c-0.81166,3.05634 -2.78986,8.07843 -4,11c-1.71141,4.13171 -4.19028,7.88153 -6,11c-2.24469,3.86798 -4,8 -6,11c-2,3 -3,5 -4,6c-1,1 -1,2 -1,1l0,-2l2,-1" id="svg_2" stroke="#000" fill="none"/>
            <path d="m166,234c0,0 0,1 0,1c0,1 -1,2 -2,3c-1,1 -1.29289,1.29289 -2,2c-0.70711,0.70711 -1.4588,0.69344 -2,2c-0.38269,0.92387 -0.69344,2.4588 -2,3c-0.92387,0.38269 -2.186,0.69255 -4,2c-1.14726,0.8269 -1.82375,1.48625 -4,2c-0.97325,0.22975 -2.82375,1.48625 -5,2c-1.9465,0.4595 -4.08025,0.31075 -7,1c-2.17625,0.51375 -4,1 -6,1c-1,0 -3,0 -4,0c-1,0 -2.69344,-0.4588 -4,-1c-0.92388,-0.38269 -2,-1 -3,-2c0,0 0,-1 -1,-3c0,0 0,-1 0,-2c0,-2 0,-2 0,-3c0,-1 0,-2 0,-3c0,-1 0,-2 0,-3c0,-1 0.61732,-2.07613 1,-3c0.5412,-1.30656 1.09789,-2.82443 3,-4c0.85065,-0.52573 2,-2 4,-3c2,-1 3.81265,-3.2068 6,-5c2.78833,-2.28587 4.88152,-3.19028 8,-5c1.93399,-1.12234 4.87856,-2.49345 8,-3c2.96126,-0.48055 5.87605,-1.34315 11,-3c3.92311,-1.26855 8.02521,-1.88133 13,-3c4.02266,-0.90456 8.9258,-1.49756 14,-2c3.98053,-0.39415 8,-1 11,-1c3,0 7,0 9,0c4,0 7.93414,0.14429 10,1c2.92157,1.21014 4.07613,1.61731 5,2c1.30656,0.5412 1,2 2,3c1,1 1,2 1,3c0,1 0,2 0,3c0,1 0,2 0,3c0,2 0.22975,4.02675 0,5c-0.51375,2.17625 -0.69255,3.186 -2,5c-0.8269,1.14726 -1.87766,3.06601 -3,5c-1.80972,3.11848 -3,6 -6,9c-2,2 -3.46446,5.46446 -7,9c-3.53554,3.53554 -7,6 -10,9c-2,2 -4.186,3.69254 -6,5c-1.14726,0.8269 -2.02675,0.77023 -3,1c-2.17625,0.51373 -4,1 -6,1c-3,0 -6.02675,0.22977 -7,0c-2.17625,-0.51373 -3,-2 -3,-2c0,-1 0,-2 0,-2c0,-1 -0.70711,-1.29291 0,-2c0.70711,-0.70709 1.29289,-1.29291 2,-2c0.70711,-0.70709 1,-1 2,-1c0,0 1,0 2,0c0,0 1,0 1,0c0,0 1,1 1,1c0,0 1,1 1,1c0,1 1,2 1,3c0,0 0,1 0,2c0,1 1,1 1,2c0,1 0,3 0,4c0,2 0.48625,2.82376 1,5c0.22975,0.97324 0.48625,1.82376 1,4c0.4595,1.9465 1,4 2,6c1,2 1.1731,2.85272 2,4c1.30745,1.814 1,2 2,3c1,1 1.07613,1.61731 2,2c1.30656,0.5412 1.07613,1.61731 2,2c1.30656,0.5412 1.29289,1.29291 2,2c0.70711,0.70709 1.69344,1.4588 3,2c0.92387,0.38269 1,0 2,0c0,0 1,0 2,0c0,0 1,0 2,0c1,0 2.02675,0.22977 3,0c2.17625,-0.51373 3.58578,-0.58578 5,-2c0.70711,-0.70709 1.47427,-1.14935 2,-2c1.17557,-1.9021 3.186,-1.69254 5,-3c1.14726,-0.8269 3,-3 4,-4l1,-1l1,-2l1,-3" id="svg_3" stroke="#000" fill="none"/>
            <path d="m246,261c-1,0 -1,0 -2,0c-1,0 -2,0 -2,0c-2,0 -4.02675,0.77023 -5,1c-2.17625,0.51373 -3.186,1.69254 -5,3c-1.14726,0.8269 -2,2 -3,3c-1,1 -2,2 -3,3c-1,1 -0.69255,2.186 -2,4c-0.8269,1.14728 -2,4 -3,6c-1,2 -3,6 -3,8c0,1 0,2 0,4c0,1 0,2 0,4c0,1 0,2 1,3c0,0 1,0 2,0c0,0 1,0 2,0c0,0 1,0 2,0c1,0 2.15224,0.76538 4,0c1.30656,-0.5412 2.82375,-1.48627 5,-2c0.97325,-0.22977 2.47427,-0.14935 3,-1c1.17557,-1.9021 4,-2 5,-3c1,-1 3,-3 4,-4c1,-1 2.41885,-3.41885 4,-5c1.58115,-1.58115 2.4588,-1.69345 3,-3c0.38269,-0.92389 0,-1 0,-1c0,-1 0.70711,-2.29291 0,-3c-0.70711,-0.70709 -1.61731,-2.07611 -2,-3c-0.5412,-1.30655 -1.4588,-1.69345 -2,-3c-0.38269,-0.92389 -0.29289,-2.29291 -1,-3c-0.70711,-0.70709 -1,-1 -2,-2c0,0 -1,-1 -2,-1c0,0 -1,-1 -1,-1c-1,0 -1,0 -1,0c-1,0 -1,0 -1,0c-1,0 -1,0 -1,0c-1,0 -1,0 -1,0c0,0 0,1 -1,1c0,0 0,1 0,1c0,0 0,1 0,1c0,1 0,1 0,1c0,1 1,1 1,1c1,0 1,0 2,0c0,0 0,0 1,0c0,0 1,1 1,1c1,0 2,0 2,0c1,0 1,0 2,0c1,0 3,1 3,1c2,0 2,0 4,0c1,0 3,0 4,0c2,0 4,0 5,0c2,0 3.15225,0.76538 5,0c1.30655,-0.5412 3,-1 5,-2c0,0 1,-1 1,-1c0,-1 0.0979,-1.82443 2,-3c0.85065,-0.52573 1.29291,-0.29291 2,-1c0.70709,-0.70709 0,-1 0,-1c0,-1 0,-1 0,-1c0,-1 0,-1 0,-1c-1,0 -1,0 -2,0c-1,0 -1,0 -2,0c-1,0 -1,0 -2,0c0,0 -0.29291,1.29291 -1,2c-0.70709,0.70709 -1,1 -2,2c0,0 0,1 0,1c-1,1 -1,1 -1,2c0,0 0,1 0,1c0,1 0,1 0,2c0,1 0,3 0,4c0,2 0,3 0,5c0,1 -0.22977,2.02676 0,3c0.51373,2.17624 2,3 4,5c1,1 3.4588,1.69345 4,3c0.38269,0.92389 0.69345,1.4588 2,2c0.92389,0.38269 2,0 3,0c2,0 4,0 6,0c0,0 1,1 1,1c1,0 1,0 3,0c1,0 3.186,-0.69254 5,-2c1.14728,-0.8269 3,-3 4,-4c2,-2 4,-5 7,-8c2,-2 3.77023,-5.02676 4,-6c0.51373,-2.17624 2.2565,-3.797 3,-5c1.66251,-2.69 1.33749,-4.31 3,-7c0.7435,-1.203 1,-2 1,-2c0,-1 0,-1 0,-1c0,-1 -0.29291,-1.29291 -1,-2c-0.70709,-0.70709 -1,0 -2,0c0,0 -1.48627,0.82376 -2,3c-0.22977,0.97324 -1,2 -1,3c0,1 -0.77023,3.02676 -1,4c-0.51373,2.17624 -1.11588,3.96384 -2,7c-1.15277,3.95868 -2.13083,8.95798 -4,15c-2.15158,6.9549 -3.95398,12.01331 -6,19c-2.93414,10.01953 -4.81631,17.07129 -8,25c-2.8378,7.06732 -4.79663,12.09317 -9,21c-2.86298,6.06659 -6.74362,12.17908 -11,18c-3.77945,5.16873 -8.4808,9.4808 -15,16c-6.5192,6.5192 -13.3443,13.72382 -21,20c-5.57664,4.57175 -11.70152,8.4201 -20,14c-4.83881,3.2536 -9.50424,5.03552 -14,8c-3.54193,2.33554 -5.69344,4.4588 -7,5c-0.92387,0.38269 -1,0 -1,0c-1,0 -1,0 -1,0c0,0 -0.61731,-0.07611 -1,-1c-0.5412,-1.30655 -1,-2 -1,-3c0,-1 0,-2 0,-3c0,0 0,-1 0,-2c0,-1 1,-2 2,-3c1,-1 2.8118,-3.19556 8,-8c6.76459,-6.26422 16.86954,-14.16492 32,-26c16.85667,-13.18533 45.49567,-31.83057 78,-51c44.3414,-26.15036 97.36304,-51.36456 152,-83c37.25253,-21.56964 76.67023,-46.53874 96,-58c17.71185,-10.50194 26.30505,-14.28677 34,-18c5.25146,-2.53413 5,-4 6,-4l0,-1" id="svg_4" stroke="#000" fill="none"/>
        </g>
    </svg>

<!--    <svg id="sig_wrapper" width="800" height="600" xmlns="http://www.w3.org/2000/svg">
        <g id="signature" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
            <path d="m533,195c0,1 -0.84662,2.08435 -2,4c-4.43713,7.36966 -8.65143,13.21106 -13,20c-4.63989,7.24371 -8.76141,15.14183 -13,22c-3.79111,6.13412 -7.57336,13.66905 -12,22c-4.62131,8.69733 -8.1622,18.93268 -11,26c-3.18369,7.92871 -4,13 -4,17l-1,4l-1,3" id="svg_5" stroke="#000" fill="none"/>
            <path d="m569,244c-1,0 -2,0 -4,0c-2,0 -3,0 -5,0c-4,0 -6.1593,1.61064 -9,3c-3.23889,1.58411 -7.48694,3.08052 -10,5c-2.86536,2.18855 -3.81268,4.20682 -6,6c-2.78833,2.28589 -6,5 -9,8c-3,3 -5.19031,4.88153 -7,8c-1.12231,1.93399 -2.48627,5.82376 -3,8c-0.45953,1.9465 0,4 0,5c0,2 1.69257,3.186 3,5c0.8269,1.14728 3.05353,1.5405 5,2c2.17627,0.51373 5.0097,1.80292 7,2c5.07422,0.50244 8,1 13,1c5,0 11,0 16,0c4,0 6,0 8,0l0,0" id="svg_6" stroke="#000" fill="none"/>
            <path d="m411,264c0,0 -0.22977,-1.02676 0,-2c0.51373,-2.17624 4.36774,-6.56392 8,-10c2.61926,-2.47778 6.70547,-4.34619 9,-6c1.814,-1.30745 2.82376,-1.48625 5,-2c1.9465,-0.4595 4,0 6,0c3,0 5,0 8,0c2,0 6,1 8,2c2,1 3.4588,0.69344 4,2c0.38269,0.92387 1.1731,1.85274 2,3c1.30746,1.814 2.1731,2.85274 3,4c1.30746,1.814 1.48627,2.82376 2,5c0.4595,1.9465 0,4 0,6c0,3 0,5 0,8c0,2 0,4 0,6c0,3 -0.5405,5.0535 -1,7c-0.51373,2.17624 -1.1731,3.85272 -2,5c-1.30746,1.814 -1.70547,2.34619 -4,4c-1.814,1.30746 -2.82376,2.48627 -5,3c-2.91974,0.68927 -4,1 -6,1c-1,0 -2,0 -3,0c-1,0 -2,0 -3,0c-1,0 -2,-1 -4,-2c-4,-2 -6.21167,-3.71411 -9,-6c-2.18735,-1.79318 -4,-4 -5,-5c-1,-1 -1.29291,-2.29291 -2,-3c-0.70709,-0.70709 0,-2 0,-2c0,-1 1,0 1,0c0,1 0,2 0,2c0,1 0.4588,1.69345 1,3c0.38269,0.92389 0,2 0,3c0,1 0,2 0,3c0,1 -0.48627,0.82376 -1,3c-0.22977,0.97324 -1,2 -2,3c0,0 -1,1 -1,1l0,0l1,0" id="svg_7" stroke="#000" fill="none"/>
            <path d="m383,244c0,0 0,0 0,2c0,1 0,3 0,5c0,2 0,3 0,6c0,1 0,2 0,3c0,2 0,3 0,3c0,1 0,2 0,2l0,0" id="svg_8" stroke="#000" fill="none"/>
            <path d="m295,273c0,0 0,0 0,-1c0,-1 0.3851,-4.37201 3,-8c1.65381,-2.29453 3.85272,-3.1731 5,-4c1.814,-1.30746 3.82376,-1.48627 6,-2c1.9465,-0.4595 4.87857,-0.49347 8,-1c2.96127,-0.48056 6,-1 9,-1c2,0 4.08026,-0.68925 7,0c2.17624,0.51373 4,1 6,3c1,1 3,2 5,3c2,1 3.41885,2.41885 5,4c1.58115,1.58115 1.49347,2.87857 2,6c0.32037,1.97418 1,4 1,7c0,1 0.4595,4.0535 0,6c-0.51373,2.17624 -0.69254,4.186 -2,6c-0.8269,1.14728 -2.1731,2.85272 -3,4c-1.30746,1.814 -1.82376,3.48627 -4,4c-0.97324,0.22977 -1.69345,1.4588 -3,2c-0.92389,0.38269 -2,0 -3,0c-1,0 -2,0 -3,-1c-1,-1 -1.70547,-3.34619 -4,-5c-1.814,-1.30746 -4,-3 -5,-4c-1,-1 -1,-3 -1,-4c0,0 0,-1 -1,-2c0,0 0,1 0,2c0,2 0,4 0,6c0,1 0,3 0,5c0,2 -0.19028,3.88153 -2,7c-1.12234,1.93399 -1,3 -2,4l0,0l0,0l0,0" id="svg_9" stroke="#000" fill="none"/>
            <path d="m261,223c0,0 0,0 0,2c0,4 0,9 0,15c0,5 0,10 0,15c0,7 0,15 0,28c0,5 0,15 0,21c0,4 0,6 0,8c0,2 0,5 0,7c0,1 0.48627,2.82376 1,5c0.4595,1.9465 0,4 1,5l0,0l1,0" id="svg_10" stroke="#000" fill="none"/>
            <path d="m266,345c0,0 0,0 -1,0c-2,0 -3.29291,0.29291 -4,1c-0.70709,0.70709 0,2 0,2c0,1 0,1 0,2c0,0 0,1 0,1c0,1 0,1 0,2c0,0 0,0 1,0c0,0 1,0 1,0c1,0 1,0 2,0c1,0 2,-1 2,-1c1,0 2,-1 2,-1c1,0 2,-1 2,-1c0,0 0,0 1,-1c0,0 0,0 0,0c0,-1 0,-2 0,-3c0,0 -1,-2 -1,-2c0,-1 -1,-2 -1,-2c0,0 -1,0 -1,0c0,0 -1,0 -1,0c0,0 -1,0 -1,0c0,0 -1,0 -1,0l0,0l-1,1l0,0" id="svg_11" stroke="#000" fill="none"/>
            <path d="m440,308c-1,0 -1,0 -1,0c0,1 0,1 0,1c0,0 0,0 0,0c0,0 1,0 1,0c0,0 0,0 0,0c0,0 1,0 1,-1c0,0 0,0 0,0c1,0 1,0 1,-1c0,0 0,0 -1,0c0,0 0,0 -1,0c0,0 0,0 0,0c-1,0 -1,0 -1,0l0,0l0,1" id="svg_12" stroke="#000" fill="none"/>
        </g>
    </svg>-->

    <script>
        const calcPaths = (totalDur) => {

            // get all SVG elements - lines and dots
            const paths = document.querySelectorAll('#signature path')

            // prepare path length variable
            let len = 0

            // prepare animation delay length variable
            let delay = 0

            // escape if no elements found
            if (!paths.length) {
                return false
            }

            // set duration in seconds of animation to default if not set
            const totalDuration = totalDur || 7

            // calculate the full path length
            paths.forEach((path) => {
                const totalLen = path.getTotalLength()
                len += totalLen
            })

            paths.forEach((path) => {
                const pathElem = path

                // get current path length
                const totalLen = path.getTotalLength()

                // calculate current animation duration
                const duration = totalLen / len * totalDuration

                // set animation duration and delay
                pathElem.style.animationDuration = `${duration < 0.2 ? 0.2 : duration}s`;
                pathElem.style.animationDelay = `${delay}s`;

                //pathElem.style.transitionDelay = `${delay}s`;
                //pathElem.style.transitionDuration = `${duration < 0.2 ? 0.2 : duration}s`;

                // set dash array and offset to path length - this is how you hide the line
                pathElem.setAttribute('stroke-dasharray', totalLen)
                pathElem.setAttribute('stroke-dashoffset', totalLen)

                // set delay for the next path - added .2 seconds to make it more realistic
                delay += duration + 0.2
            })

            // set 'animated' class to body which will start the animation
            return true
        }
        calcPaths(2)
    </script>
</body>
</html>